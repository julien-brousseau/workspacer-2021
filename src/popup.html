<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <title>Workspacer</title>
    <link rel="stylesheet" href="css/semantic.min.css">
    <link rel="stylesheet" href="css/styles.css">
  </head>

  <body>
    <!-- Top message label -->
    <div id="msg"><div class="ui large label hide"></div></div>

    <!-- List all workspaces -->
    <div id="container-workspaces" class="container hide">
      <div id="container-workspaces-header" class="container-header home">
        <h1>My workspaces</h1>
        <button id="new-workspace-button" class="ui wsBtn icon cta top button" title="Create a new workspace"><i class="plus square outline icon"></i></button>
        <button id="settings-button" class="ui wsBtn icon top button" title="Extension settings"><i class="cog icon"></i></button>
      </div>
      <ul id="container-workspaces-content"></ul>
    </div>

    <!-- View a single workspace -->
    <div id="container-workspace" class="container hide">
      <div id="container-workspace-header" class="container-header">
        <button id="workspace-back-button" class="ui wsBtn icon button" title="Back to workspaces"><i class="chevron left icon"></i></button>
        <i id="workspace-title-icon" class="feature icon"></i>
        <h1 id="workspace-title">
          WORKSPACE
        </h1>
        <!-- Controls -->
        <button class="ui wsBtn icon dropdown button" title="Add tabs to this workspace">
          <i class="plus icon"></i>
          <div class="menu">
            <div class="item" id="workspace-add-current-tab-button" title="Add current tab to workspace">Current tab</div>
            <div class="item" id="workspace-add-all-tabs-button" title="Add all tabs from current window">Current window</div>
            <div class="item" id="workspace-replace-tabs-button" title="Replace all tabs with current window">Replace all tabs</div>
          </div>
        </button>
        
        <button class="ui wsBtn icon dropdown button" title="Open all tabs from this workspace">
          <i class="window restore icon"></i>
          <div class="menu">
            <div class="item" id="workspace-open-in-new-window-button" title="Open all tabs in a new window">Open in a new window</div>
            <div class="item" id="workspace-open-in-current-window-button" title="Replace current window with these tabs">Replace current window</div>
          </div>
        </button>
        
        <button class="ui wsBtn icon dropdown button" title="More actions">
          <i class="bars icon"></i>
          <div class="menu">
            <div class="item" id="workspace-rename-button" title="Change current workspace's name">Rename workspace</div>
            <div class="item" id="workspace-delete-tabs-button" title="Remove all tabs from this workspace">Delete all tabs</div>
            <div class="item" id="workspace-delete-button" title="Delete this workspace and all tabs">Delete workspace</div>
          </div>
        </button>
      </div>
      <!-- Content -->
      <div id="container-workspace-tablist"></div>
    </div>

    <!-- Workspace form for CREATE or EDIT -->
    <div id="container-workspace-form" class="container hide">
      <div id="container-workspace-form-header" class="container-header">
        <button id="workspace-form-back-button" class="ui wsBtn icon back button" title="Back to workspaces"><i class="chevron left icon"></i></button>
        <h1 id="workspace-form-header-title">New workspace</h1>
      </div>
      <div id="container-workspace-form-content">
        <form id="workspace-form" class="ui form basic" autocomplete="off">
          <div id="workspace-form-title-field" class="field">
            <label>Workspace name</label>
            <input id="workspace-form-title" name="title" type="text" placeholder="Ex: School" maxlength="45">
          </div>
          <div id="workspace-form-icon-field" class="field">
            <label>Icon</label>
            <div id="workspace-form-icons"></div>
          </div>
          <button id="workspace-submit-button" class="ui secondary button" type="submit" title="Save">Create</button>
        </form>
      </div>
    </div>

    <!-- Tab form for EDIT (no custom CREATE) for tabs -->
    <div id="container-tab-form" class="container hide">
      <div id="container-tab-form-header" class="container-header">
        <button id="tab-form-back-button" class="ui wsBtn icon back button" title="Cancel modifications"><i class="chevron left icon"></i></button>
        <h1>Edit tab</h1>
      </div>
      <form id="container-tab-form-content" class="ui form basic" autocomplete="off">
        <div id="tab-form-title-field" class="field">
          <label>Tab name</label>
          <input id="tab-form-title" name="title" type="text" placeholder="Your favorite unicorn site" />
        </div>
        <div id="tab-form-url-field" class="field">
          <label>URL</label>
          <input id="tab-form-url" name="url" type="text" placeholder="https://www.rainbowsandstuff.com" />
        </div>
        <button id="tab-submit-button" class="ui secondary button" type="submit" title="Save tab">Save tab</button>
      </form>
    </div>

    <!-- App settings page -->
    <div id="container-settings" class="container hide">
      <div id="container-settings-header" class="container-header">
        <button id="settings-back-button" class="ui wsBtn icon back button" title="Exit settings"><i class="chevron left icon"></i></button>
        <h1>Extension settings</h1>
      </div>
      <div id="container-settings-content">
        <div class="item setting">
          <div class="settings-description">
            <h2>Export user data</h2>
            <div style="display: flex;">
              <p>Export all workspaces and tab data as a .json file in your Downloads folder.</p>
              <button id="export-all-workspaces-button" class="ui secondary button" title="Export your current user data">Export</button>
            </div>
          </div>
        </div>
        <div class="ui form item setting">
          <div class="settings-description">
            <h2>Import user data</h2>
            <div style="display: flex;">
              <p>Import the content of a previously exported .json file by copy/pasting its content in the field below.</p>
              <button id="import-all-workspaces-button" class="ui secondary button" title="Import field content in your workspaces">Import</button>
            </div>
            <div class="field">
              <textarea id="import-field" rows="2" placeholder="Paste .json file contents here"></textarea>
            </div>
          </div>
        </div> 
        <div class="item setting">
          <div class="settings-description">
            <h2 class="warning">Delete everything</h2>
            <div style="display: flex;">
              <p class="warning">Warning: This operation is irreversible!<br>Please make sure to previously export your current data.</p>
              <button id="delete-all-workspaces-button" class="ui red button" title="Delete all your workspaces and tabs">Delete</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Confirmation screen -->
    <div id="container-confirm" class="container hide">
      <div id="container-confirm-header" class="container-header">
        <button id="confirm-back-button" class="ui wsBtn icon back button" title="Cancel"><i class="chevron left icon"></i></button>
        <h1 id="confirm-title"></h1>
      </div>

      <div id="container-confirm-content">
        <p id="confirm-text"></p>
        <p class="warning">Warning: This operation is irreversible</p>
        <div>
          <button id="confirm-accept-button" class="ui red button" title="">Confirm</button>
          <button id="confirm-cancel-button" class="ui secondary button" title="">Cancel</button>
        </div>
      </div>
    </div>

    <!-- TODO: These 2 libs are only used for dropdown menus, and should be replaced by something lighter -->
    <script src="js/lib/jquery-3.6.0.min.js"></script>
    <script src="js/lib/semantic.min.js"></script>

    <script type="module" src="js/popup.js"></script>
  </body>
</html>